<nb-card class="h-100 mb-0" nbSpinnerStatus="basic">
  <nb-card-header>
    <div class="float-start">
      {{ 'productCategories.listTitle' | translate }}
    </div>

    <button
      nbButton
      type="button"
      shape="round"
      size="small"
      class="float-right"
      (click)="addProductCategory()"
    >
      <nb-icon icon="add" pack="material-icons"></nb-icon>
      {{ 'common.add' | translate }}
    </button>
    <button
      nbButton
      type="button"
      shape="round"
      size="small"
      class="float-right me-4"
      (click)="saveSorting()"
      [disabled]="!enableSaveSorting"
    >
      {{ 'productCategories.saveSorting' | translate }}
    </button>
  </nb-card-header>
  <nb-card-body
    class="p-2"
    *ngIf="productCategories$ | async as productCategories"
  >
    <lib-admin-drag-n-drop-nested-list
      [dataSource]="productCategories"
      [nestConfig]="categoryOrders"
      [listItemTemplate]="listItemTemplate"
      (nodeChange)="onNodeDrop($event)"
    >
    </lib-admin-drag-n-drop-nested-list>

    <ng-template #listItemTemplate let-data="data">
      <bgap-product-category-list-item
        class="w-100"
        [productCategory]="data"
      ></bgap-product-category-list-item>
    </ng-template>
  </nb-card-body>
</nb-card>
