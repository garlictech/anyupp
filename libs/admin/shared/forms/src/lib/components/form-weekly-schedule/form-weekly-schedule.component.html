<fieldset class="form" *ngIf="scheduleControl">
  <legend class="label">{{ 'units.openingHours' | translate }}</legend>
  <table>
    <tr *ngFor="let day of dayKeys">
      <td class="caption">{{ 'common.days.' + day | translate }}:</td>
      <td>
        <input
          nbInput
          fieldSize="small"
          [placeholder]="'common.hmPlaceholder' | translate"
          [formControl]="scheduleControl.get(day)!.get('from')! | asFormControl"
          [status]="
            scheduleControl.get(day)?.get('from')?.touched &&
            (scheduleControl.get(day)?.get('from')?.errors?.required ||
              scheduleControl.get(day)?.get('from')?.invalid)
              ? 'danger'
              : 'basic'
          "
        />
      </td>
      <td>-</td>
      <td>
        <input
          nbInput
          fieldSize="small"
          [placeholder]="'common.hmPlaceholder' | translate"
          [formControl]="scheduleControl.get(day)!.get('to')! | asFormControl"
          [status]="
            scheduleControl.get(day)?.get('to')?.touched &&
            (scheduleControl.get(day)?.get('to')?.errors?.required ||
              scheduleControl.get(day)?.get('to')?.invalid)
              ? 'danger'
              : 'basic'
          "
        />
      </td>
    </tr>
  </table>

  <hr />
  <div class="label">
    {{ 'common.days.custom' | translate }}

    <button
      nbButton
      type="button"
      shape="round"
      size="tiny"
      class="float-right"
      (click)="addCustomDate()"
    >
      <nb-icon icon="plus-outline"></nb-icon>
    </button>

    <div class="clearfix"></div>

    <table>
      <tr
        *ngFor="
          let customDay of scheduleControl.get('custom')!
            | iterableAbstractControls;
          index as i
        "
      >
        <td>
          <input
            nbInput
            fieldSize="small"
            [formControl]="customDay.get('date')! | asFormControl"
            type="date"
          />
        </td>
        <td>
          <input
            nbInput
            fieldSize="small"
            [placeholder]="'common.hmPlaceholder' | translate"
            [formControl]="customDay.get('from')! | asFormControl"
            [status]="
              customDay.get('from')?.touched &&
              (customDay.get('from')?.errors?.required ||
                customDay.get('from')?.invalid)
                ? 'danger'
                : 'basic'
            "
          />
        </td>
        <td>-</td>
        <td>
          <input
            nbInput
            fieldSize="small"
            [placeholder]="'common.hmPlaceholder' | translate"
            [formControl]="customDay.get('to')! | asFormControl"
            [status]="
              customDay.get('to')?.touched &&
              (customDay.get('to')?.errors?.required ||
                customDay.get('to')?.invalid)
                ? 'danger'
                : 'basic'
            "
          />
        </td>
      </tr>
    </table>
  </div>
</fieldset>
