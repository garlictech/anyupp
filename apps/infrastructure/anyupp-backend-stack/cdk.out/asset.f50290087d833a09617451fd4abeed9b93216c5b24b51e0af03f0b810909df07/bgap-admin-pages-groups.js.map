{"version":3,"sources":["./libs/admin/pages/groups/src/index.ts","./libs/admin/pages/groups/src/lib/components/group-list/group-list.component.ts","./libs/admin/pages/groups/src/lib/components/group-list/group-list.component.html","./libs/admin/pages/groups/src/lib/components/group-list-item/group-list-item.component.ts","./libs/admin/pages/groups/src/lib/components/group-list-item/group-list-item.component.html","./libs/admin/pages/groups/src/lib/admin-pages-groups.module.ts","./libs/admin/pages/groups/src/lib/components/group-form/group-form.component.ts","./libs/admin/pages/groups/src/lib/components/group-form/group-form.component.html"],"names":[],"mappings":"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","file":"bgap-admin-pages-groups.js","sourcesContent":["import { AdminPagesGroupsModule } from './lib/admin-pages-groups.module';\n\nexport { AdminPagesGroupsModule };\n","import { Observable } from 'rxjs';\n\nimport { Component, OnDestroy } from '@angular/core';\nimport { loggedUserSelectors } from '@bgap/admin/shared/data-access/logged-user';\nimport { chainsSelectors } from '@bgap/admin/shared/data-access/chains';\nimport { groupsSelectors } from '@bgap/admin/shared/data-access/groups';\nimport { IChain, IGroup } from '@bgap/shared/types';\nimport { NbDialogService } from '@nebular/theme';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { select, Store } from '@ngrx/store';\n\nimport { GroupFormComponent } from '../group-form/group-form.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'bgap-group-list',\n  templateUrl: './group-list.component.html',\n})\nexport class GroupListComponent implements OnDestroy {\n  public groups$: Observable<IGroup[]>;\n  public chains$: Observable<IChain[]>;\n  public selectedChainId$: Observable<string | undefined | null>;\n\n  constructor(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private _store: Store<any>,\n    private _nbDialogService: NbDialogService,\n  ) {\n    this.groups$ = this._store.pipe(\n      select(groupsSelectors.getAllGroups),\n      untilDestroyed(this),\n    );\n    this.chains$ = this._store.pipe(\n      select(chainsSelectors.getAllChains),\n      untilDestroyed(this),\n    );\n    this.selectedChainId$ = this._store.pipe(\n      select(loggedUserSelectors.getSelectedChainId),\n      untilDestroyed(this),\n    );\n  }\n\n  ngOnDestroy(): void {\n    // untilDestroyed uses it.\n  }\n\n  public addGroup(): void {\n    this._nbDialogService.open(GroupFormComponent, {\n      hasBackdrop: true,\n      closeOnBackdropClick: false,\n      hasScroll: true,\n      dialogClass: 'form-dialog',\n    });\n  }\n}\n","<nb-card class=\"h-100 mb-0\">\n  <nb-card-header>\n    <div class=\"float-left\">\n      {{ 'groups.listTitle' | translate }}\n    </div>\n    <button\n      nbButton\n      type=\"button\"\n      shape=\"round\"\n      size=\"small\"\n      class=\"float-right\"\n      (click)=\"addGroup()\"\n    >\n      <nb-icon icon=\"plus-outline\"></nb-icon>\n    </button>\n  </nb-card-header>\n  <nb-card-body>\n    <ng-container *ngFor=\"let group of groups$ | async\">\n      <nb-list-item *ngIf=\"group.chainId === (selectedChainId$ | async)\">\n        <bgap-group-list-item\n          class=\"w-100\"\n          [group]=\"group\"\n        ></bgap-group-list-item>\n      </nb-list-item>\n    </ng-container>\n  </nb-card-body>\n</nb-card>\n","import { cloneDeep as _cloneDeep } from 'lodash-es';\n\nimport { Component, Input } from '@angular/core';\nimport { IGroup } from '@bgap/shared/types';\nimport { NbDialogService } from '@nebular/theme';\n\nimport { GroupFormComponent } from '../group-form/group-form.component';\n\n@Component({\n  selector: 'bgap-group-list-item',\n  templateUrl: './group-list-item.component.html',\n  styleUrls: ['./group-list-item.component.scss'],\n})\nexport class GroupListItemComponent {\n  @Input() group!: IGroup;\n\n  constructor(private _nbDialogService: NbDialogService) {}\n\n  public editGroup(): void {\n    const dialog = this._nbDialogService.open(GroupFormComponent, {\n      dialogClass: 'form-dialog',\n    });\n\n    dialog.componentRef.instance.group = _cloneDeep(this.group);\n  }\n}\n","<div class=\"float-left\">\n  <div class=\"subtitle-2\">{{ group.name }}</div>\n  <div class=\"caption\">{{ group.description | localize }}</div>\n  <bgap-contact [contact]=\"group\"></bgap-contact>\n</div>\n\n<button\n  nbButton\n  shape=\"round\"\n  size=\"tiny\"\n  class=\"float-right\"\n  [title]=\"'common.edit' | translate\"\n  (click)=\"editGroup()\"\n>\n  <nb-icon icon=\"edit-outline\"></nb-icon>\n</button>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { AdminSharedComponentsModule } from '@bgap/admin/shared/components';\nimport { AdminSharedFormsModule } from '@bgap/admin/shared/forms';\nimport { AdminSharedPipesModule } from '@bgap/admin/shared/pipes';\nimport { NbEvaIconsModule } from '@nebular/eva-icons';\nimport {\n  NbButtonModule,\n  NbCardModule,\n  NbIconModule,\n  NbInputModule,\n  NbLayoutModule,\n  NbListModule,\n  NbSelectModule,\n  NbUserModule,\n} from '@nebular/theme';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { GroupFormComponent } from './components/group-form/group-form.component';\nimport { GroupListItemComponent } from './components/group-list-item/group-list-item.component';\nimport { GroupListComponent } from './components/group-list/group-list.component';\n\nconst NB_MODULES = [\n  NbLayoutModule,\n  NbCardModule,\n  NbListModule,\n  NbUserModule,\n  NbIconModule,\n  NbInputModule,\n  NbEvaIconsModule,\n  NbButtonModule,\n  NbSelectModule,\n];\n\n@NgModule({\n  declarations: [\n    GroupListComponent,\n    GroupListItemComponent,\n    GroupFormComponent,\n  ],\n  imports: [\n    CommonModule,\n    TranslateModule,\n    AdminSharedComponentsModule,\n    AdminSharedFormsModule,\n    AdminSharedPipesModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([\n      {\n        component: GroupListComponent,\n        path: '',\n      },\n    ]),\n    ...NB_MODULES,\n  ],\n})\nexport class AdminPagesGroupsModule {}\n","import { get as _get } from 'lodash-es';\nimport { take } from 'rxjs/operators';\n\nimport { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { loggedUserSelectors } from '@bgap/admin/shared/data-access/logged-user';\nimport { chainsSelectors } from '@bgap/admin/shared/data-access/chains';\nimport { AbstractFormDialogComponent } from '@bgap/admin/shared/forms';\nimport {\n  EToasterType,\n  multiLangValidator,\n  contactFormGroup,\n} from '@bgap/admin/shared/utils';\nimport { IChain, IGroup, IKeyValue } from '@bgap/shared/types';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { select, Store } from '@ngrx/store';\n\n@UntilDestroy()\n@Component({\n  selector: 'bgap-group-form',\n  templateUrl: './group-form.component.html',\n})\nexport class GroupFormComponent\n  extends AbstractFormDialogComponent\n  implements OnInit, OnDestroy {\n  public group!: IGroup;\n  public chainOptions: IKeyValue[] = [];\n  public currencyOptions: IKeyValue[] = [];\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _store: Store<any>;\n  private chains: IChain[] = [];\n\n  constructor(protected _injector: Injector) {\n    super(_injector);\n\n    this._store = this._injector.get(Store);\n    this._store\n      .pipe(select(chainsSelectors.getAllChains), untilDestroyed(this))\n      .subscribe((chains: IChain[]): void => {\n        this.chains = chains;\n\n        this.chainOptions = this.chains.map(\n          (chain): IKeyValue => ({\n            key: chain._id,\n            value: chain.name,\n          }),\n        );\n      });\n\n    this.currencyOptions = ['EUR', 'HUF'].map(\n      (currency): IKeyValue => ({\n        key: currency,\n        value: currency,\n      }),\n    );\n  }\n\n  ngOnInit(): void {\n    this.dialogForm = this._formBuilder.group({\n      chainId: ['', [Validators.required]],\n      name: ['', [Validators.required]],\n      description: this._formBuilder.group(\n        {\n          hu: [''],\n          en: [''],\n          de: [''],\n        },\n        { validators: multiLangValidator },\n      ),\n      currency: ['', [Validators.required]],\n      ...contactFormGroup(this._formBuilder),\n    });\n\n    if (this.group) {\n      this.dialogForm.patchValue(this.group);\n    } else {\n      // Patch ChainId\n      this._store\n        .pipe(select(loggedUserSelectors.getSelectedChainId), take(1))\n        .subscribe((selectedChainId: string | undefined | null): void => {\n          if (selectedChainId) {\n            this.dialogForm?.controls.chainId.patchValue(selectedChainId);\n          }\n        });\n    }\n  }\n\n  ngOnDestroy(): void {\n    // untilDestroyed uses it.\n  }\n\n  public submit(): void {\n    if (this.dialogForm?.valid) {\n      if (_get(this.group, '_id')) {\n        this._dataService\n          .updateGroup(this.group._id, this.dialogForm?.value)\n          .then(\n            (): void => {\n              this._toasterService.show(\n                EToasterType.SUCCESS,\n                '',\n                'common.updateSuccessful',\n              );\n              this.close();\n            },\n            err => {\n              console.error('GROUP UPDATE ERROR', err);\n            },\n          );\n      } else {\n        this._dataService.insertGroup(this.dialogForm?.value).then(\n          (): void => {\n            this._toasterService.show(\n              EToasterType.SUCCESS,\n              '',\n              'common.insertSuccessful',\n            );\n            this.close();\n          },\n          err => {\n            console.error('GROUP INSERT ERROR', err);\n          },\n        );\n      }\n    }\n  }\n}\n","<nb-card>\n  <nb-card-header>\n    <div class=\"float-left\">\n      {{\n        (group && group._id ? 'groups.editGroup' : 'groups.newGroup')\n          | translate\n      }}\n    </div>\n    <button\n      nbButton\n      ghost\n      shape=\"round\"\n      size=\"small\"\n      class=\"float-right\"\n      (click)=\"close()\"\n    >\n      <nb-icon icon=\"close-outline\"></nb-icon>\n    </button>\n  </nb-card-header>\n  <nb-card-body>\n    <form\n      [formGroup]=\"dialogForm!\"\n      (ngSubmit)=\"submit()\"\n      [autocomplete]=\"false\"\n    >\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <bgap-form-select\n            caption=\"common.chain\"\n            [localize]=\"false\"\n            [options]=\"chainOptions\"\n            [control]=\"dialogForm.get('chainId')! | asFormControl\"\n          ></bgap-form-select>\n        </div>\n        <div class=\"col-md-6\">\n          <bgap-form-select\n            caption=\"common.currency\"\n            [localize]=\"false\"\n            [options]=\"currencyOptions\"\n            [control]=\"dialogForm.get('currency')! | asFormControl\"\n          ></bgap-form-select>\n        </div>\n      </div>\n\n      <bgap-form-text-input\n        caption=\"common.name\"\n        type=\"text\"\n        [control]=\"dialogForm.get('name')! | asFormControl\"\n      ></bgap-form-text-input>\n\n      <bgap-form-text-input\n        caption=\"common.descriptionHU\"\n        type=\"text\"\n        [control]=\"dialogForm.get('description')!.get('hu')! | asFormControl\"\n      ></bgap-form-text-input>\n      <bgap-form-text-input\n        caption=\"common.descriptionEN\"\n        type=\"text\"\n        [control]=\"dialogForm.get('description')!.get('en')! | asFormControl\"\n      ></bgap-form-text-input>\n      <bgap-form-text-input\n        caption=\"common.descriptionDE\"\n        type=\"text\"\n        [control]=\"dialogForm.get('description')!.get('de')! | asFormControl\"\n      ></bgap-form-text-input>\n\n      <bgap-form-contact-group\n        [contactFormGroup]=\"dialogForm | asFormGroup\"\n      ></bgap-form-contact-group>\n\n      <div class=\"mt-20\">\n        <button\n          nbButton\n          size=\"small\"\n          type=\"submit\"\n          fullWidth\n          status=\"primary\"\n          [disabled]=\"dialogForm.invalid\"\n        >\n          {{ 'common.submit' | translate }}\n        </button>\n      </div>\n    </form>\n  </nb-card-body>\n</nb-card>\n"],"sourceRoot":"webpack:///"}