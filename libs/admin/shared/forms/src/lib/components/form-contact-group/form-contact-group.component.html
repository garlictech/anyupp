<fieldset class="form" [formGroup]="contactFormGroup">
  <legend class="label">{{ 'common.contact.contact' | translate }}</legend>

  <bgap-form-text-input
    caption="common.email"
    type="email"
    [control]="contactFormGroup.get('email')! | asFormControl"
  ></bgap-form-text-input>
  <bgap-form-text-input
    caption="Phone"
    type="text"
    [control]="contactFormGroup.get('phone')! | asFormControl"
  ></bgap-form-text-input>

  <ng-container *ngIf="showAddressForm">
    <div class="label mt-20">Address</div>
    <bgap-form-text-input
      caption="common.title"
      type="text"
      [control]="contactFormGroup.get('address')!.get('title')! | asFormControl"
    ></bgap-form-text-input>
    <bgap-form-text-input
      caption="common.contact.country"
      type="text"
      [control]="
        contactFormGroup.get('address')!.get('country')! | asFormControl
      "
    ></bgap-form-text-input>
    <bgap-form-text-input
      caption="common.contact.postalCode"
      type="text"
      [control]="
        contactFormGroup.get('address')!.get('postalCode')! | asFormControl
      "
    ></bgap-form-text-input>
    <bgap-form-text-input
      caption="common.contact.city"
      type="text"
      [control]="contactFormGroup.get('address')!.get('city')! | asFormControl"
    ></bgap-form-text-input>
    <bgap-form-text-input
      caption="common.contact.address"
      type="text"
      [control]="
        contactFormGroup.get('address')!.get('address')! | asFormControl
      "
    ></bgap-form-text-input>

    <div class="row">
      <div class="col-md-6">
        <bgap-form-text-input
          caption="common.contact.locationLat"
          type="number"
          [control]="
            contactFormGroup.get('address')!.get('location')!.get('lat')!
              | asFormControl
          "
        ></bgap-form-text-input>
      </div>
      <div class="col-md-6">
        <bgap-form-text-input
          caption="common.contact.locationLng"
          type="number"
          [control]="
            contactFormGroup.get('address')!.get('location')!.get('lng')!
              | asFormControl
          "
        ></bgap-form-text-input>
      </div>
    </div>

    <bgap-google-map
      [markerLocation]="contactFormGroup.value.address.location"
      (positionChange)="markerPositionChange($event)"
    ></bgap-google-map>

    <div class="mt-3">
      <button type="button" nbButton size="small" (click)="locateAddress()">
        <nb-icon icon="pin-outline"></nb-icon>
        {{ 'units.locateOnMap' | translate }}
      </button>
    </div>
  </ng-container>
</fieldset>
