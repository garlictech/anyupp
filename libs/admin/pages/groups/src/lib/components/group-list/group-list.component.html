<nb-card
  class="h-100 mb-0"
  [nbSpinner]="(loading$ | async) || false"
  nbSpinnerStatus="basic"
>
  <nb-card-header>
    <div class="float-start">
      {{ 'groups.listTitle' | translate }}
    </div>
    <button
      nbButton
      type="button"
      shape="round"
      size="small"
      class="float-right"
      (click)="addGroup()"
      [title]="'groups.addGroup' | translate"
    >
      <nb-icon icon="add" pack="material-icons"></nb-icon>
    </button>
  </nb-card-header>
  <nb-card-body class="p-2" *ngIf="groups$ | async as groups">
    <cdk-virtual-scroll-viewport
      style="height: 100%"
      itemSize="70"
      (scrolledIndexChange)="loadNextPaginatedData($event, groups.length)"
      #dataVSVP
    >
      <nb-list>
        <nb-list-item *cdkVirtualFor="let group of groups">
          <bgap-group-list-item
            class="w-100"
            [group]="group"
          ></bgap-group-list-item>
        </nb-list-item>
      </nb-list>
    </cdk-virtual-scroll-viewport>
  </nb-card-body>
</nb-card>
