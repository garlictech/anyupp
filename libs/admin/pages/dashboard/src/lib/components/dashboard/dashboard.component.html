<nb-card [ngClass]="{ resized: resized }" class="h-100 mb-0">
  <nb-card-header class="position-relative">
    <div class="float-start font-larger">
      {{ 'dashboard.listTitle' | translate }}
      <button
        shape="round"
        nbButton
        *ngIf="selectedUnit"
        size="small"
        class="ms-3 font-larger"
        [status]="selectedUnit.isAcceptingOrders ? 'success' : 'danger'"
        (click)="toggleAcceptingOrders($event)"
      >
        {{
          (selectedUnit.isAcceptingOrders
            ? 'orders.ordersAccepted'
            : 'orders.ordersBlocked'
          ) | translate
        }}
      </button>
    </div>

    <div class="clock-container d-none d-lg-block">
      <div class="clock">{{ time }}</div>
    </div>

    <nb-actions [size]="buttonSize" class="float-right">
      <nb-action
        [icon]="resized ? 'minimize-outline' : 'maximize-outline'"
        (click)="toggleResize()"
        [title]="'dashboard.actions.fontSize' | translate"
        data-testid="fontSizeAction"
      ></nb-action>
      <nb-action
        [ngClass]="
          dashboardSettings.listMode === EDashboardListMode.floormap
            ? 'active'
            : 'inactive'
        "
        icon="map-outline"
        (click)="selectListMode(EDashboardListMode.floormap)"
        [title]="'dashboard.actions.floorMap' | translate"
        data-testid="floorMapAction"
      ></nb-action>
      <nb-action
        [ngClass]="
          dashboardSettings.listMode === EDashboardListMode.lanes
            ? 'active'
            : 'inactive'
        "
        icon="swap-outline"
        (click)="selectListMode(EDashboardListMode.lanes)"
        [title]="'dashboard.actions.lanes' | translate"
        data-testid="lanesAction"
      ></nb-action>
      <nb-action
        [ngClass]="
          dashboardSettings.listMode === EDashboardListMode.current
            ? 'active'
            : 'inactive'
        "
        icon="clock-outline"
        (click)="selectListMode(EDashboardListMode.current)"
        [title]="'dashboard.actions.current' | translate"
        data-testid="currentOrdersAction"
      ></nb-action>
      <nb-action
        [ngClass]="
          dashboardSettings.listMode === EDashboardListMode.history
            ? 'active'
            : 'inactive'
        "
        icon="archive-outline"
        (click)="selectListMode(EDashboardListMode.history)"
        [title]="'dashboard.actions.history' | translate"
        data-testid="historyOrdersAction"
      ></nb-action>
      <nb-action
        [ngClass]="
          dashboardSettings.listMode === EDashboardListMode.reports
            ? 'active'
            : 'inactive'
        "
        icon="pie-chart-outline"
        (click)="selectListMode(EDashboardListMode.reports)"
        [title]="'dashboard.actions.reports' | translate"
        data-testid="reportsAction"
      ></nb-action>
    </nb-actions>
  </nb-card-header>
  <nb-card-body id="dashboardMainCardBody" class="p-1">
    <bgap-order-ticket-body
      *ngIf="
        dashboardSettings.listMode === EDashboardListMode.current ||
        dashboardSettings.listMode === EDashboardListMode.history
      "
      [unit]="selectedUnit"
    ></bgap-order-ticket-body>
    <bgap-lanes-body
      *ngIf="dashboardSettings.listMode === EDashboardListMode.lanes"
    ></bgap-lanes-body>
    <bgap-floor-map-body
      *ngIf="dashboardSettings.listMode === EDashboardListMode.floormap"
    ></bgap-floor-map-body>
    <bgap-reports-body
      *ngIf="dashboardSettings.listMode === EDashboardListMode.reports"
    ></bgap-reports-body>
  </nb-card-body>
</nb-card>
