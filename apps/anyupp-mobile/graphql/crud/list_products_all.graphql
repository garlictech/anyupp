query ListAllProducts($unitId: ID!, $nextToken: String, $limit: Int) {
  searchUnitProducts(
    filter: {
      unitId: { eq: $unitId }
      dirty: { ne: true }
      and: { deletedAt: { exists: false } }
    }
    nextToken: $nextToken
    limit: $limit
  ) {
    total
    nextToken
    items {
      id
      unitId
      position
      variants {
        id
        position
        price
        pack {
          size
          unit
        }
        variantName {
          de
          en
          hu
        }
        netPackagingFee
        soldOut
        isAvailable
        refGroupPrice
        availabilities {
          dayTo
          dayFrom
          price
          timeFrom
          timeTo
          type
        }
      }
      configSets {
        productSetId
        position
        items {
          position
          price
          netPackagingFee
          productComponentId
          externalId
          refGroupPrice
        }
      }
      supportedServingModes
      dirty
      groupProduct {
        variants {
          isAvailable
          netPackagingFee
          pack {
            size
            unit
          }
          position
          price
          soldOut
          variantName {
            de
            en
            hu
          }
          refGroupPrice
        }
        configSets {
          position
          items {
            position
            price
            netPackagingFee
            productComponentId
            externalId
            refGroupPrice
          }
          productSetId
        }
        chainProduct {
          allergens
          name {
            de
            en
            hu
          }
          productType
          variants {
            isAvailable
            netPackagingFee
            pack {
              size
              unit
            }
            id
            position
            price
            soldOut
            variantName {
              de
              en
              hu
            }
            refGroupPrice
          }
          image
          dirty
          configSets {
            position
            items {
              netPackagingFee
              position
              price
              productComponentId
              refGroupPrice
              externalId
            }
            productSetId
          }
          isVisible
          description {
            de
            en
            hu
          }
          productCategoryId
          externalId
          id
        }
        dirty
        groupId
        id
        isVisible
        takeawayTax
        tax
        externalId
        parentId
        deletedAt
        createdAt
        updatedAt
      }
      isVisible
      parentId
      chainId
      groupId
      externalId
      createdAt
      deletedAt
      updatedAt
    }
  }
}
