<nb-card class="h-100">
  <nb-card-header class="p-1 ps-2">{{
    'dashboard.reports.unpayCategories' | translate
  }}</nb-card-header>
  <nb-card-body class="p-2 overflow-hidden">
    <div class="row">
      <div class="col"></div>
      <div class="col text-end">
        <nb-icon
          class="smaller-icon"
          icon="shopping_cart"
          pack="material-icons"
        ></nb-icon>
      </div>
      <div class="col text-end" *ngFor="let method of paymentMethods">
        {{ 'common.paymentModes.' + method | translate }}
      </div>
      <div class="col text-end">âˆ‘</div>
      <div class="col text-end">
        <nb-icon
          class="smaller-icon"
          icon="person"
          pack="material-icons"
        ></nb-icon>
      </div>
    </div>

    <div
      class="row"
      *ngFor="let categoryStat of unpayCategoryStats"
      [ngClass]="{ 'fw-bold': categoryStat.category === 'sum' }"
    >
      <div class="col">
        {{ 'orders.unpayCategories.' + categoryStat.category | translate }}
      </div>
      <div class="col text-end">{{ categoryStat.count }}</div>
      <div class="col text-end" *ngFor="let method of paymentMethods">
        {{
          categoryStat.paymentMethodSums[method] | currencyFormatter: currency
        }}
      </div>
      <div class="col text-end">
        {{ categoryStat.sum | currencyFormatter: currency }}
      </div>
      <div class="col text-end">{{ categoryStat.uniqueUsersCount }}</div>
    </div>
  </nb-card-body>
</nb-card>
